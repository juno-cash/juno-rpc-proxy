# Juno RPC Proxy Configuration

# Address and port to listen on
listen = "0.0.0.0:8233"

# RPC method whitelist - only these methods will be proxied
# All other methods will be rejected with "Method not allowed"
allowed_methods = [
    # Core mining methods (required for juno-miner)
    "getblocktemplate",
    "submitblock",
    "getblockchaininfo",
    "getmininginfo",

    # Optional: uncomment to allow wallet info display
    # "getwalletinfo",

    # Optional: uncomment for additional blockchain queries
    "getblockhash",
    "getblock",
    "getbestblockhash",
]

# Optional authentication for miners connecting to this proxy
# Enable this if the proxy is exposed to untrusted networks
[proxy_auth]
enabled = false
username = ""
password = ""

# Upstream junocash node connection (authenticated)
[upstream]
url = "http://127.0.0.1:8232"
username = "rpcuser"
password = "rpcpassword"
timeout = "30s"

# ZMQ notification proxy
# Forwards ZMQ block notifications from upstream node to local miners
# This allows multiple miners to receive instant block notifications
# without each connecting directly to the node
[zmq]
enabled = false
# upstream_url = "tcp://127.0.0.1:28332"  # Node's ZMQ address
# listen = "tcp://0.0.0.0:28333"          # Address miners connect to
# topic = "hashblock"                      # Topic to forward (default)
